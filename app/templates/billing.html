<ion-view title="Billing">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">
    <div class="credit">
        Credit: <span class="credit" ng-class="{'no-credit':credit <= 0}">${{credit}}</span>  USD
    </div>
    <!-- <div class='subtitle'>
      <span>CARD INFO</span>
      <span class='title-line card-line'></span>
    </div> -->
    <form name="cardForm" novalidate>
      <div class="list">
        <label class="item item-input item-stacked-label">
          <span class="input-label">Card Number</span>
          <input name="number" type="text" ng-model="card.number"  required>
        </label>
        <label class="item item-input item-stacked-label">
          <span class="input-label">CVC</span>
          <input name="cvc" type="text" ng-model="card.cvc" required>
        </label>
        <label class="item item-input item-stacked-label">
          <span class="input-label">Exph. Mont</span>
          <input name="exp_month" type="text"  ng-model="card.exp_month" required>
        </label>
        <label class="item item-input item-stacked-label">
          <span class="input-label">Exph. Year</span>
          <input name="exp_year" type="text"  ng-model="card.exp_year" required>
        </label>
      </div>
      <div class="error" ng-if="error">
        <span>{{error.message}}</span>
       </div>
      <div class="error" ng-if="cardForm.$invalid">
        <p ng-show="cardForm.number.$invalid && !cardForm.number.$pristine">Card Number is required.</p>
        <p ng-show="cardForm.cvc.$invalid && !cardForm.cvc.$pristine">CVC is required.</p>
        <p ng-show="cardForm.exp_month.$invalid && !cardForm.exp_month.$pristine">Enter a valid expiration Month.</p>
        <p ng-show="cardForm.exp_year.$invalid && !cardForm.exp_year.$pristine">Enter a valid expiration Year.</p>
      </div>
      <div class="padding">
        <a class="button button-block button-opacity" ng-click="updateCard(cardForm.$valid)">Update Card</a>
      </div>
    </form>
  </ion-content>
</ion-view>
